#!/bin/bash

bin=`dirname "$0"`
bin=`cd "$bin"; pwd`

HAZELCAST_CONF=$1
MAIN_CLASS_NAME="com.hazelcast.examples.TestApp"
JAVA_OPTS="-Xmx256m -Dhazelcast.config=$HAZELCAST_CONF -Dhazelcast.super.client=true"
    
# add dependency libs
CLASSPATH="$bin/../conf"
for lib in `ls $bin/../lib/*.jar`; do
    CLASSPATH=${CLASSPATH}:$lib
done

java $JAVA_OPTS -cp $CLASSPATH $MAIN_CLASS_NAME "$@"
RETVAL=$?

exit $RETVAL